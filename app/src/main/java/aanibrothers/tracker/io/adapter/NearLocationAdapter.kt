package aanibrothers.tracker.io.adapterimport aanibrothers.tracker.io.databinding.*import aanibrothers.tracker.io.extension.*import aanibrothers.tracker.io.model.*import android.content.*import android.view.*import androidx.core.content.*import androidx.recyclerview.widget.*class NearLocationAdapter(val context: Context, val listener: ((NearLocation) -> Unit)?) : RecyclerView.Adapter<RecyclerView.ViewHolder>() {    private var anies = mutableListOf<Any>()    init {        anies = nearLocations    }    override fun getItemViewType(position: Int): Int {        return if (anies[position] is String) {            1        } else {            2        }    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {        return if (viewType == 1) {            DataViewHolder(LayoutRowItemNearCategoryBinding.inflate(LayoutInflater.from(parent.context), parent, false))        } else {            DataViewHolderPlace(LayoutRowItemNearBinding.inflate(LayoutInflater.from(parent.context), parent, false))        }    }    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {        when (holder) {            is DataViewHolder -> {                holder.binding.apply {                    actionButton.text = anies[position] as String                }            }            is DataViewHolderPlace -> {                holder.binding.apply {                    actionButton.icon = ContextCompat.getDrawable(context, (anies[position] as NearLocation).icon)                    actionButton.text = (anies[position] as NearLocation).title                    actionButton.setOnClickListener { listener?.invoke((anies[position] as NearLocation)) }                }            }        }    }    override fun getItemCount(): Int {        return anies.size    }    class DataViewHolder(val binding: LayoutRowItemNearCategoryBinding) : RecyclerView.ViewHolder(binding.root)    class DataViewHolderPlace(val binding: LayoutRowItemNearBinding) : RecyclerView.ViewHolder(binding.root)}