package aanibrothers.tracker.io.adapterimport aanibrothers.tracker.io.databinding.*import android.content.*import android.graphics.*import android.location.*import android.view.*import androidx.recyclerview.widget.*class SuggestionLocationAdapter(val context: Context, val listener: ((Address) -> Unit)?) : RecyclerView.Adapter<SuggestionLocationAdapter.DataViewHolder>() {    private var textColor: String = "#000000"    private var suggestions = mutableListOf<Address>()    private var query: String = ""    fun updateData(suggestions: MutableList<Address>, query: String, textColor: String) {        this.textColor = textColor        this.query = query        this.suggestions.clear()        this.suggestions.addAll(suggestions)        notifyDataSetChanged()    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): DataViewHolder {        return DataViewHolder(LayoutRowItemSuggestionBinding.inflate(LayoutInflater.from(parent.context), parent, false))    }    override fun onBindViewHolder(holder: DataViewHolder, position: Int) {        holder.binding.apply {            val suggestion = suggestions[position]            val mergedAddress = buildString {                listOfNotNull(                    suggestion.thoroughfare,                    suggestion.subLocality,                    suggestion.locality,                    suggestion.adminArea,                    suggestion.postalCode,                ).filter { it.isNotEmpty() }                    .toCollection(LinkedHashSet())                    .joinTo(this, ", ")            }            textMapLocationArea.text = query            textMapLocationDetails.text = "$mergedAddress"            textMapLocationArea.setTextColor(Color.parseColor(textColor))            textMapLocationDetails.setTextColor(Color.parseColor(textColor))            root.setOnClickListener { listener?.invoke(suggestion) }        }    }    override fun getItemCount(): Int {        return suggestions.size    }    class DataViewHolder(val binding: LayoutRowItemSuggestionBinding) : RecyclerView.ViewHolder(binding.root)}